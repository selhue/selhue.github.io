(()=>{let _xj39f = 0, _qwe92k = '', _plm39d = '', _autoTimer = null;const _hi389jkre = () => {_qwe92k = document.querySelector('[subject-input]').value.trim();_plm39d = document.querySelector('[body-input]').value.trim();};const _k39djs = email => {const [p] = email.split('_');return (p.split('.')[0] || 'there');};const _bq93kfj = () => {_hi389jkre();_showPage(2);_v9djeow();};const _b8dj39 = () => {_showPage(1);};const _showPage = n => {document.querySelectorAll('[page]').forEach(el => el.removeAttribute('active'));document.querySelector(`[page="${n}"]`).setAttribute('active', '');};const _v9djeow = () => {const emails = document.querySelector('[emails-input]').value.split('\n').map(e => e.trim()).filter(e => e);const container = document.querySelector('[btnN]');container.innerText = '';_xj39f = 0;document.querySelector('[progress]').textContent = 'Progress: 0 sent';emails.forEach(raw => {const name = _k39djs(raw);const subject = encodeURIComponent(_qwe92k);const body = encodeURIComponent(_plm39d.replace('{name}', name));const mailto = `mailto:${raw}?subject=${subject}&body=${body}`;const btn = document.createElement('button');btn.setAttribute('send-btn', '');btn.textContent = `Send to ${raw}`;btn.onclick = () => {window.open(mailto);btn.setAttribute('sent', '');btn.disabled = true;btn.textContent = `Sent to ${raw}`;_xj39f++;document.querySelector('[progress]').textContent = `Progress: ${_xj39f} of ${emails.length} sent`;};btn.ondblclick = () => window.open(mailto);container.append(btn);});};const _d9fj39 = () => {if (_autoTimer) return;const btns = Array.from(document.querySelectorAll('[send-btn]:not([sent])'));let i = 0;const _sendNext = () => {if (i >= btns.length) {_autoTimer = null;return;}btns[i].click();i++;_autoTimer = setTimeout(_sendNext, 1000);};_sendNext();};})();
